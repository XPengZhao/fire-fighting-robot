# UART异步通信方式

本文主要简述在STM32F103RC下的UART异步通信方式。

## 1. STM32下UART的接口

大容量STM32F10x系列芯片，包含3个USART和2个UART。

- UART:通用异步收发器
- USART:通用同步异步收发器

USART可作为UART使用，因此，该STM32芯片下有5个UART接口。这五个串口的引脚分布如下。（**不包含端口复用**）。更详细的引脚信息可参考[《STM32F103RCT6芯片资料》]

![USART引脚]

## 2. UART异步通信方式特点

- 全双工异步通信。
- 分数波特率发生器系统，提供精确的波特率。
- 发送和接受共用的可编程波特率，最高可达4.5Mbits/s
- 可编程的数据字长度（8位或者9位）；
- 可配置的停止位（支持1或者2位停止位）；
- 可配置的使用DMA多缓冲器通信。
- 单独的发送器和接收器使能位。
- 检测标志：1. 接受缓冲器 2. 发送缓冲器空 3. 传输结束标志
- 多个带标志的中断源。触发中断。
- 其他：校验控制，四个错误检测标志。

## 3. 串口通信过程

![串口通信过程]

## 4. 异步通信标准数据格式

- 起始位
- 数据位（8位或者9位）
- 奇偶校验位（第9位）
- 停止位（1,15,2位）
- 波特率设置

![数据帧]

## 5. USART框图

![框图]

1->P<sub>clk2</sub>  
2~4->P<sub>clk1</sub>

## 参考资料

1. [《STM32不完全手册——库函数版本》]
2. [《STM32中文参考手册》]
3. [《STM32F103RCT6芯片资料》]
4. 特别感谢正点原子官方视频教程

[《STM32不完全手册——库函数版本》]: <../参考资料/STM32不完全手册_库函数版本_V3.1.pdf>
[《STM32中文参考手册》]: <../参考资料/STM32中文参考手册_V10.pdf>
[《STM32F103RCT6芯片资料》]: <../参考资料/STM32F103RCT6.pdf>

[USART引脚]: <./img/5.png>
[串口通信过程]: <./img/6.png>
[数据帧]: <./img/7.jpg>
[框图]: <./img/8.png>