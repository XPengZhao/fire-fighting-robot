# stm32 通用定时器简介

* 通用TIMx定时器是指：TIM2、TIM3、TIM4和TIM5

* 该简介的内容包括：
  @ 通用定时器主要功能
  @ 时基单元


## 1. 通用定时器主要功能

通用定时器功能包括：

* 16位向上、向下、向上/向下自动装载计数器

* 16位可编程(可以实时修改)预分频器，计数器时钟频率的分频系数为1～65536之间的任意数值

* 4个独立通道：
  * 输入捕获；
  * 输出比较；
  * PWM波生成(边缘或中间对齐模式)
  * 单脉冲模式输出

* 如下事件发生时产生中断/DMA：
  * 更新：计数器向上溢出/向下溢出，计数器初始化(通过软件或者内部/外部触发)；
  * 触发事件(计数器启动、停止、初始化或者由内部/外部触发计数)；
    输入捕获
    输出比较

## 2. 时基单元

* 时间基数单元包括：
  * 计数器寄存器(TIMx_CNT)；
  * 预分频器寄存器 (TIMx_PSC)；
  * 自动装载寄存器 (TIMx_ARR)；

* 通用定时器的主要部分是一个16位计数器和与其相关的自动装载寄存器。
* 此计数器时钟由预分频器分频得到。

* 计数器可以向上计数、向下计数或者向上向下双向计数。

* 计数器、自动装载寄存器和预分频器寄存器可以由软件读写，在计数器运行时仍可以读写。
